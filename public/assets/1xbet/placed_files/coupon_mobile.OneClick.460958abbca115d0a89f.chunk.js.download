(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[831,836],{1009:function(t,e,n){"use strict";e.a={methods:{validateSumInput:function(t){var e=this.replaceComma(t);return e&&e.toString().length>15&&(e=""),e},replaceComma:function(t){return"string"==typeof t&&(t=t.replace(",",".")),t},parseFloat:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return"string"==typeof t&&"."!==t.substr(t.length-1)&&-1===t.indexOf(".0")&&(t=this.cutDecimalsAfterDot(t),t=parseFloat(parseFloat(t).toFixed(2))),t})),validateZero:function(t){return(Number.isNaN(t)||t<0||""===t)&&(t=0),t},cutDecimalsAfterDot:function(t){var e=t,n=t.match(/\.(\d+)$/);return n&&n[1]&&n[1].length>2&&(e=t.substr(0,t.length-n[1].length+2)),e},validateDecimal:function(t,e){return new RegExp(/^(\d+)?(\d+(\.))?(\d+(\.\d{1,2}))?$/).test(t)||(t=e),t},validate:function(t,e){return t=this.validateSumInput(t),t=this.parseFloat(t),t=this.validateZero(t),t=this.validateDecimal(t,e)}}}},1090:function(t,e,n){"use strict";var s=n(0),i=n.n(s),c=n(131),r=n(30),a=n(34);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}e.a={methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(a.mapActions)("coupon",{setStep:r.R})),computed:{$_step_by_currency:function(){return parseFloat(c.a[this.$_current_currency_code])||c.a.RUB}},watch:{$_current_currency_code:function(){this.setStep({step:this.$_step_by_currency})}},beforeMount:function(){var t=this;this.$getItem("coupon_step").then((function(e){return t.setStep({step:e||t.$_step_by_currency})}))}}},1402:function(t,e,n){"use strict";e.a={computed:{$_is_focused:function(){return!1}},methods:{showKeyboard:function(t){t.preventDefault(),t.stopPropagation(),this.focusInput({is_focus:!0,block_num:this.$_is_in_block?this.block:0}),document.addEventListener("click",this.hideKeyboard)},hideKeyboard:function(t){var e=document.querySelector(".bets-sums-keyboard");e&&e.contains(t.target)||t.target===this.$refs.bet_input||(this.focusInput({is_focus:!1}),document.removeEventListener("click",this.hideKeyboard))}}}},1855:function(t,e,n){"use strict";n.r(e);var s=n(38),i=n.n(s),c=n(13),r=n.n(c),a=n(20),o=n.n(a),u=n(0),l=n.n(u),_=n(28),d=n(34),p=n(79),m=n(882),b=n(1090),f=n(29),h=n(30),v=n(23),g=n(946),k=n(1009);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O=Object(d.createNamespacedHelpers)("coupon"),C=O.mapGetters,$=O.mapActions,S={mixins:[p.a,m.a,g.a,k.a,b.a],data:function(){return{sum:1,prevSum:1,is_enabled:!1,one_click_settings:[]}},computed:y(y({},C({$_step:f.ab,externalSum:f.u})),{},{$_user_id:function(){return this.$store.getters[_.c+"globalGetUserId"]},$_one_click_current_setting:function(){var t=this;return this.one_click_settings.find((function(e){return parseInt(e.id)===parseInt(t.$_user_id)}))}}),watch:{sum:function(t,e){this.sum=this.validate(t,e),this.setSum({sum:this.sum})},$_current_currency_code:function(){this.setOneClick()}},mounted:function(){void 0!==window.COUPON_DICTIONARY&&this.assignDictionary(window.COUPON_DICTIONARY),this.setOneClick()},methods:y(y({},$({setOneClickData:h.O,focusInput:h.h,setSum:h.n,setExternalSum:h.D})),{},{getMinBet:function(){var t=this;return o()(r.a.mark((function e(){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/datalinelive/getminbet");case 3:return n=e.sent,s=n.data,e.abrupt("return",s.success?s.min:null);case 8:return e.prev=8,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},minus:function(){this.sum-=this.$_step},plus:function(){this.sum+=this.$_step},store:function(){var t=this;return o()(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.is_enabled){e.next=5;break}return e.next=3,t.getMinBet();case 3:(n=e.sent)?t.sum<n?(t.is_enabled=!1,Object(v.c)("".concat(t.$T("amountSetOneClickMinBet")," ").concat(n," ").concat(t.$_current_currency_code))):Object(v.f)("".concat(t.T("amountSetOneClick1")," ").concat(t.sum," ").concat(t.$_current_currency_code," ").concat(t.T("amountSetOneClick2"))):(t.is_enabled=!1,Object(v.c)(t.$T("queryError")));case 5:t.$_one_click_current_setting&&t.one_click_settings.splice(t.one_click_settings.map((function(t){return t.id})).indexOf(t.$_user_id),1),t.one_click_settings.push({sum:t.sum,is_enabled:t.is_enabled,id:t.$_user_id}),t.setOneClickData({sum:t.sum,is_enabled:t.is_enabled}),t.$setItem("one_click",JSON.stringify(t.one_click_settings));case 9:case"end":return e.stop()}}),e)})))()},setOneClick:function(){var t=this;this.$getItem("one_click").then((function(e){if(e&&"object"===i()(e))return t.sum=e.sum,t.is_enabled=e.is_enabled,t.setOneClickData({sum:t.sum,is_enabled:t.is_enabled}),void t.updatePreviousSum();var n=JSON.parse(e);t.one_click_settings=n||[],t.$_one_click_current_setting?(t.sum=parseFloat(parseFloat(t.$_one_click_current_setting.sum).toFixed(2)),t.is_enabled=t.$_one_click_current_setting.is_enabled):(t.sum=t.$_step,t.is_enabled=!1),t.setOneClickData({sum:t.sum,is_enabled:t.is_enabled}),t.updatePreviousSum()}))},updatePreviousSum:function(){this.setSum({sum:this.sum}),this.prevSum=this.sum}})},x=n(19),j=Object(x.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-grid"},[n("div",{staticClass:"flex-grid__item flex-grid__item--auto-width"},[n("div",{staticClass:"switch",attrs:{title:t.T("bet_one_click_desc")}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.is_enabled,expression:"is_enabled"}],staticClass:"switch__input",attrs:{id:"coupon_one-click",type:"checkbox"},domProps:{checked:Array.isArray(t.is_enabled)?t._i(t.is_enabled,null)>-1:t.is_enabled},on:{change:[function(e){var n=t.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(n)){var c=t._i(n,null);s.checked?c<0&&(t.is_enabled=n.concat([null])):c>-1&&(t.is_enabled=n.slice(0,c).concat(n.slice(c+1)))}else t.is_enabled=i},function(e){return t.store()}]}}),t._v(" "),n("label",{staticClass:"switch__label u-upcase",attrs:{for:"coupon_one-click"}},[n("span",{staticClass:"switch__title coupon__one-click"},[t._v(" "+t._s(t.T("bet_one_click"))+" ")])])])]),t._v(" "),n("div",{staticClass:"flex-grid__item u-mla"},[n("div",{staticClass:"coupon__one-click"},[n("div",{staticClass:"c-spinner c-spinner--theme-brand"},[n("button",{staticClass:"c-btn c-btn--icon-only c-btn--flat c-spinner__btn",on:{click:function(e){return t.minus()}}},[n("i",{staticClass:"c-btn__icon c-btn__icon--minus"})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sum,expression:"sum"}],staticClass:"c-spinner__input c-spinner__input--small",class:t.$_input_class,attrs:{type:"text"},domProps:{value:t.sum},on:{input:function(e){e.target.composing||(t.sum=e.target.value)}}}),t._v(" "),n("button",{staticClass:"c-btn c-btn--flat c-btn--icon-only c-spinner__btn",on:{click:function(e){return t.plus()}}},[n("i",{staticClass:"c-btn__icon c-btn__icon--plus"})])]),t._v(" "),n("button",{staticClass:"c-btn c-btn--icon-only c-btn--theme-brand u-8pt-ml-0",on:{click:function(e){return t.store()}}},[n("span",{staticClass:"c-btn__icon c-btn__icon--svg"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"}},[n("path",{attrs:{d:"M3.686,5.589L5.11,8.42S7.424,2.667,11.072.75c-0.089,1.37-.445,2.557.178,4.017-1.6.365-4.894,4.474-5.962,6.483A12.394,12.394,0,0,0,.75,7.415Z"}})])])])])])])}),[],!1,null,null,null);e.default=j.exports},2552:function(t,e,n){"use strict";n.r(e);var s=n(1855),i=n(1402),c={extends:s.default,mixins:[i.a],data:function(){return{show_settings:!1}},watch:{is_enabled:function(t){this.$analytics.mainNav.toggleOneClick(t)},externalSum:{handler:function(t){var e=this;this.$nextTick((function(){e.sum=t,e.changeSum(),e.setExternalSum({sum:null})}))},immediate:!0}},methods:{toggleSetting:function(){this.show_settings=!this.show_settings,this.show_settings&&this.setOneClick()},closeSettings:function(){this.store(),this.show_settings=!1},changeSum:function(){this.sum=this.validate(this.sum,this.prevSum),this.updatePreviousSum()}}},r=n(19),a=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-nav__item"},[n("div",{staticClass:"one-click"},[n("button",{staticClass:"one-click__ascent",on:{click:function(e){return t.toggleSetting()}}},[n("svg",{staticClass:"one-click__ico"},[n("use",{attrs:{"xlink:href":"/default/images/mobile/icon/nav_menu.svg#one-click"}})])]),t._v(" "),n("div",{staticClass:"switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.is_enabled,expression:"is_enabled"}],staticClass:"switch__input js-setting-site",attrs:{id:"oneClick",type:"checkbox"},domProps:{checked:Array.isArray(t.is_enabled)?t._i(t.is_enabled,null)>-1:t.is_enabled},on:{change:[function(e){var n=t.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(n)){var c=t._i(n,null);s.checked?c<0&&(t.is_enabled=n.concat([null])):c>-1&&(t.is_enabled=n.slice(0,c).concat(n.slice(c+1)))}else t.is_enabled=i},function(e){return t.store()}]}}),t._v(" "),n("label",{staticClass:"switch__label",attrs:{for:"oneClick"}}),t._v(" "),n("span",{staticClass:"switch__line"})])]),t._v(" "),t.show_settings?n("div",{staticClass:"spinner spinner_drop"},[n("div",{staticClass:"spinner__title"},[t._v(t._s(t.T("bet_one_click")))]),t._v(" "),n("span",{staticClass:"spinner__prompt"},[t._v(t._s(t.T("set_bet_one_click_amount")))]),t._v(" "),n("div",{staticClass:"spinner__number"},[n("div",{staticClass:"spinner__btn spinner__btn--minus",on:{click:function(e){return t.minus()}}},[n("span",{staticClass:"spinner__sing"},[t._v("-")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sum,expression:"sum"}],ref:"bet_input",staticClass:"spinner__count",attrs:{inputmode:"decimal",readonly:""},domProps:{value:t.sum},on:{click:t.showKeyboard,keyup:function(e){return t.changeSum()},change:function(e){return t.changeSum()},input:function(e){e.target.composing||(t.sum=e.target.value)}}}),t._v(" "),n("div",{staticClass:"spinner__btn spinner__btn--plus",on:{click:function(e){return t.plus()}}},[n("span",{staticClass:"spinner__sing"},[t._v("+")])])]),t._v(" "),n("button",{staticClass:"spinner__save",on:{click:function(e){return t.closeSettings()}}},[n("span",{staticClass:"spinner__text"},[t._v(t._s(t.T("save")))])])]):t._e()])}),[],!1,null,null,null);e.default=a.exports},882:function(t,e,n){"use strict";var s=n(28),i=n(29),c=n(133),r=n(3),a=n(2);e.a={computed:{$_bonus_account_id:function(){return this.$store.getters["coupon/"+i.g]},$_current_currency_code:function(){var t=this;if(this.$store.state[c.d]&&this.$store.getters[c.e+"accountActiveAccount"]){var e=this.$store.getters[c.e+"accountGetAccounts"].find((function(e){return t.$_bonus_account_id&&e.id===t.$_bonus_account_id}));return e?e.iso:this.$store.getters[c.e+"accountActiveAccount"].iso}if(!window.user_balance)return a.a.config.is_mobile&&window.GEO_CURRENCY?window.GEO_CURRENCY.code:a.a.config.isRefId([r.t,r.L,r.qb])?"BTC":"RUB";var n=window.user_balance.getAllCurrencyAccounts().find((function(t){return t.is_active}));return n&&!this.$_bonus_account_id?n.iso:window.user_balance.getPrimaryCurrency()},$_get_currency_postfix:function(){var t=this.$store.getters[s.d+"/globalGetUserId"],e=this.$store.state[c.d];return t&&(window.user_balance&&window.user_balance.state.accounts.length||e)?"(".concat(this.$_current_currency_code,")"):""}}}},946:function(t,e,n){"use strict";var s=n(11);e.a={computed:{$_is_ticket_window:function(){return s.a.is_kassa||this.$_is_iframe},$_is_iframe:function(){return!!this.$store.state.GLOBAL&&this.$store.state.GLOBAL.iFrameId},$_input_class:function(){return{keyboardInput:this.$_is_ticket_window||this.$_is_iframe}}}}}}]);