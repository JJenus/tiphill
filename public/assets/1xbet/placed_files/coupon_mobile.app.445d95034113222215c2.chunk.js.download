(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[833],{1168:function(e,t,n){"use strict";var s=n(0),o=n.n(s),i=n(34),r=n(170),c=n.n(r),a=n(46),_=n(30),u=n(1039),l=n(940),b=n(926),d=n(1040),p=n(934),h=n(444),f=n(1030),m=n.n(f),v=n(29),$=n(18),y=n(1391),g=n(1105);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Object(i.createNamespacedHelpers)("coupon"),C=k.mapGetters,x=k.mapActions,j=(k.mapMutations,{components:{MultiSelect:c.a,Teams:g.a,SportIcon:h.a,OrdinarBet:y.a},mixins:[u.a,l.a,b.a,d.a,p.a],props:{bet:{type:Object}},data:function(){return{selected_block:null,extraClass:[],animateTime:4e3,idTimeout:0}},watch:{bet:function(e){this.selected_block={label:this.$_block_names_by_index[e.betBlock]?this.$_block_names_by_index[e.betBlock].label:"",value:e.betBlock}},$_coef:function(e,t){if(e&&t)switch(!0){case e>t:this.addExtraClass("gc_lite");break;case t>e:this.addExtraClass("rc_lite");break;default:this.clearExtraClass()}}},methods:O(O({},x({removeBet:_.i,changeBetProp:_.d,updateCoupon:_.gb})),{},{deleteBet:function(){this.removeBet(this.bet),this.sortBlocks(this.bet.betBlock)},changeBlock:function(e){var t=this,n=this.$_bets.findIndex((function(e){return e.sob_id===t.bet.sob_id}));if(-1!==n){var s=this.bet.betBlock;this.changeBetProp({index:n,prop:"betBlock",value:parseInt(e.value)}),this.updateCoupon(),this.selected_block={label:this.$_block_names_by_index[parseInt(e.value)]?this.$_block_names_by_index[parseInt(e.value)].label:""},this.sortBlocks(s)}},sortBlocks:function(e){var t=this;Object(a.d)(this.$_bets,e).forEach((function(e){t.changeBetProp({index:e.betIndex,prop:"betBlock",value:e.block})}))},addExtraClass:function(e){this.clearExtraClass(),this.extraClass.push(e),this.clearExtraClass(this.animateTime)},clearExtraClass:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;t?this.idTimeout=setTimeout((function(){e.extraClass=[],e.idTimeout=0}),t):(this.extraClass=[],clearTimeout(this.idTimeout),this.idTimeout=0)}}),computed:O(O({},C({$_coupon_type:v.s,$_bets:v.c})),{},{$_is_blocks:function(){return Object(a.g)(this.$_coupon_type)},$_coef:function(){return this.bet.Coef},$_visible_coef:function(){return!this.bet||6414!==this.bet.T&&6414!==this.bet.type?this.toView(this.$_coef):"SP"},$_extra_class:function(){return this.extraClass},$_is_locked:function(){return this.bet.Block},$_is_relation:function(){return this.bet.IsRelation&&!this.$_is_locked&&!this.$_is_ordinars_array},$_disable_remove:function(){return this.bet.fake},$_header_class:function(){return this.$_is_ordinars_array?"c-bet-box__header--single":""},$_is_live:function(){return this.bet.Kind===$.h.LIVE},$_first_team_score:function(){return this.bet.MS1},$_second_team_score:function(){return this.bet.MS2},$_has_scores:function(){return m()(this.$_first_team_score)&&m()(this.$_second_team_score)}}),beforeMount:function(){this.selected_block={label:this.$_block_names_by_index[this.bet.betBlock]?this.$_block_names_by_index[this.bet.betBlock].label:"",value:this.bet.betBlock}}}),P=n(19),E=Object(P.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"o-bet-box-list__item"},[n("div",{staticClass:"c-bet-box",class:{"c-bet-box--blocked":e.$_is_locked||e.$_is_relation}},[n("div",{staticClass:"c-bet-box__header",class:e.$_header_class},[e.$_is_blocks?n("multi-select",{staticClass:"c-bet-box__select coupon-select",attrs:{trackBy:"label",label:"label",name:"label",searchable:!1,allowEmpty:!1,options:e.blockNamesForSelect},on:{select:e.changeBlock},model:{value:e.selected_block,callback:function(t){e.selected_block=t},expression:"selected_block"}}):e._e(),e._v(" "),e.$_disable_remove?e._e():n("button",{staticClass:"c-bet-box__del c-btn--close c-btn--flat c-btn--size-s c-btn c-btn--icon-only",attrs:{disabled:e.$_is_disabled,type:"button"},on:{click:function(t){return e.deleteBet()}}},[n("i",{staticClass:"c-btn__icon"})]),e._v(" "),n("div",{staticClass:"c-bet-box__liga u-f-row u-jcfs u-f-nowrap c-bet-box__row"},[e.isSportIconAllowed(e.bet.id_sport)?n("div",{staticClass:"c-bet-box__img-con"},[n("SportIcon",{attrs:{sport_id:e.bet.id_sport,sub_sport_id:e.bet.subSportId}})],1):e._e(),e._v(" "),n("div",{staticClass:"c-bet-box__sport"},[e._v("\n                    "+e._s(e.bet.sportNameText)+"\n                    "),e.$_is_live?n("div",{staticClass:"c-bet-box__live"},[n("span",{staticClass:"c-bet-box__live-label"},[e._v("Live")]),e._v(" "),e.$_has_scores?n("span",{staticClass:"c-bet-box__score"},[e._v(e._s(e.$_first_team_score)+" : "+e._s(e.$_second_team_score))]):e._e()]):e._e()])])],1),e._v(" "),n("div",{staticClass:"c-bet-box__content"},[n("teams",{attrs:{bet:e.bet}}),e._v(" "),n("div",{staticClass:"c-bet-box__row u-f-row c-bet-box__row--no-wrap"},[n("div",{staticClass:"c-bet-box__market"},[e._v("\n                    "+e._s(e.bet.nameGroup)+" "+e._s(e.bet.nameBet)+"\n                ")]),e._v(" "),n("div",{staticClass:"c-bet-box__bet",class:e.$_extra_class},[e._v("\n                    "+e._s(e.$_visible_coef)+"\n                ")])])],1),e._v(" "),e.$_is_ordinars_array?n("ordinar-bet",{attrs:{sob_id:e.bet.sob_id,bet_sum:e.bet.Summ}}):e._e(),e._v(" "),n("transition",{attrs:{name:"appear"}},[e.$_is_locked?n("div",{staticClass:"c-bet-box__overlay"},[e._v("\n                "+e._s(e.$T("lock"))+"\n            ")]):e._e(),e._v(" "),e.$_is_relation?n("div",{staticClass:"c-bet-box__overlay"},[e._v("\n                "+e._s(e.$T("relation"))+"\n            ")]):e._e()])],1)])}),[],!1,null,null,null);t.a=E.exports},1186:function(e,t,n){"use strict";var s=n(2),o=n(26);t.a={constants:{preloaderTheme:s.a.config.group_id===o.T?"/light":"/default",preloaderThemeWithPrefix:s.a.config.group_id===o.T?"/preloader/light":"/preloader/default"}}},1613:function(e,t,n){"use strict";var s=n(13),o=n.n(s),i=n(20),r=n.n(i),c=n(0),a=n.n(c),_=n(1515),u=n(29),l=n(30),b={components:{CouponHeader:n(1587).default},extends:_.default,computed:{$_is_close_modal:function(){return this.$store.getters["coupon/"+u.H]}},watch:{$_is_close_modal:function(e){e&&(this.$emit("close"),this.$store.dispatch("coupon/"+l.M))}},methods:{successCouponHandler:function(e){this.$store.dispatch("coupon/"+l.M)}}},d=n(19),p=Object(d.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"coupon"},[n("coupon-header"),e._v(" "),n("div",{staticClass:"c-tabs__content"},[n("transition",{attrs:{name:e.animation,mode:"out-in"}},[0===e.$_tab?n("coupon-tab"):e._e(),e._v(" "),1===e.$_tab?n("opened-bets"):e._e(),e._v(" "),2===e.$_tab?n("editor"):e._e()],1)],1)],1)}),[],!1,null,null,null).exports,h=n(449),f=n(34);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={data:function(){return{is_freeze_modal:!1,is_show_line:!1,is_freeze_line_coupon:!1}},computed:v(v({},Object(f.mapGetters)("global",["globalGetRightMenuVisible","globalGetLeftMenuVisible"])),{},{$_is_input_focused:function(){return this.$store.getters[h.a+u.E]&&!this.globalGetRightMenuVisible&&!this.globalGetLeftMenuVisible},liveXhrTimer:function(){return this.$store.state.dashboard_live&&this.$store.state.dashboard_live.xhr_timer}}),methods:{openModal:function(){var e=this;return r()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(!e.is_freeze_modal){t.next=4;break}return t.abrupt("return");case 4:if(!e.liveXhrTimer){t.next=7;break}return t.next=7,e.$store.dispatch("dashboard_live/dashboardStopUpdate","coupon modal");case 7:e.addLockedClass(),e.is_freeze_modal=!0,e.is_show_line=!1,e.is_freeze_line_coupon=!0,e.$modal.show(p,{},{clickToClose:!0,name:"coupon-modal",classes:"m-coupon__modal",height:"auto"},{opened:function(){e.setModalHeight(),window.addEventListener("resize",e.setModalHeight)},"before-close":function(){e.is_freeze_line_coupon=!1,e.is_freeze_modal=!1,!e.liveXhrTimer&&e.$store.state.dashboard_live&&e.$store.dispatch("dashboard_live/dashboardUpdate1x2"),e.removeLockedClass(),window.removeEventListener("resize",e.setModalHeight)}});case 12:case"end":return t.stop()}}),t)})))()},setModalHeight:function(){var e=document.querySelector(".v--modal-overlay");e&&(e.style.height=window.innerHeight+"px")},addLockedClass:function(){window.document.body.style.top="-".concat(window.scrollY,"px"),window.document.body.classList.add("menu-active")},removeLockedClass:function(){var e=window.document.body.style.top;window.document.body.classList.remove("menu-active"),window.document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0",10))}}}},2396:function(e,t,n){"use strict";n.r(t);var s=n(449),o=n(35),i=n.n(o),r=n(29),c=n(1515),a=n(0),_=n.n(a),u=n(34),l=n(30),b=n(184),d=function(){if("undefined"==typeof window||void 0===window.screen)return 0;var e=window.screen,t=e.width,n=e.height;return Math.min(t,n)},p=function(){var e=d();return e>767&&e<=1365},h={data:function(){return{isTablet:p()}},mounted:function(){window.addEventListener("resize",this.deviceDetect)},destroyed:function(){window.removeEventListener("resize",this.deviceDetect)},methods:{deviceDetect:function(){this.isTablet=p()}}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={mixins:[n(882).a,h],props:{item_class:{type:String,default:""}},computed:m(m({},Object(u.mapGetters)(s.b,[r.bb])),{},{$_sums:function(){var e=this.$store.getters[b.b+"settings_coupon_fast_bet_buttons"];return new Set(Object.values(e))}}),methods:m(m({},Object(u.mapActions)(s.b,[l.D])),{},{setSum:function(e){this.ACTION_SET_EXTERNAL_SUM({sum:parseFloat(e)})},backSpace:function(){if(0!==this.SUM){var e="".concat(this.SUM).slice(0,-1);this.ACTION_SET_EXTERNAL_SUM({sum:e})}}})},$=n(19),y=Object($.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fast-bet"},[e._l(e.$_sums,(function(t){return n("button",{key:t,staticClass:"fast-bet__item",class:e.item_class,on:{click:function(n){return e.setSum(t)}}},[e._v("\n        "+e._s(t)+" "+e._s(e.$_current_currency_code)+"\n    ")])})),e._v(" "),e.isTablet?n("button",{staticClass:"fast-bet__item",class:e.item_class,on:{click:e.backSpace}},[n("svg",{staticClass:"fast-bet__icon fast-bet__icon--bksp"},[n("use",{attrs:{"xlink:href":"/default/img/coupon/keyboard-icons.svg#bksp-icon"}})])]):e._e()],2)}),[],!1,null,null,null).exports,g=n(1983),w=n.n(g);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=/^(0|([1-9]\d*))(\.\d{0,2})?$/,x={mixins:[h],data:function(){return{keyboard:null}},computed:{$_current_sum:function(){var e=this;if(this.$_focused_block_num){var t=this.$store.getters["coupon/"+r.f].find((function(t){return t.block===e.$_focused_block_num}));return t?t.sum:1}return this.$store.getters["coupon/"+r.bb]},$_focused_block_num:function(){return this.$store.getters["coupon/"+r.y]},layoutName:function(){return this.isTablet?"default":"mobile"}},watch:{$_current_sum:{handler:function(e){this.keyboard.setInput(e.toString())}},layoutName:{handler:function(e,t){e!==t&&this.keyboard.setOptions({layoutName:e})}}},mounted:function(){this.keyboard=new w.a({onChange:this.onChange,onKeyPress:this.onKeyPress,layoutName:this.layoutName,layout:{mobile:["1 2 3 4 5 6 7 8 9 0",". {bksp} {hide}"],default:["1 2 3","4 5 6","7 8 9",". 0 {hide}"]},display:{"{bksp}":'<svg class="hg-button__icon hg-button__icon--bksp"><use xlink:href="/default/img/coupon/keyboard-icons.svg#bksp-icon"></use></svg>',"{hide}":'<svg class="hg-button__icon hg-button__icon--hide"><use xlink:href="/default/img/coupon/keyboard-icons.svg#hide-icon"></use></svg>'},inputPattern:C,disableCaretPositioning:!0,preventMouseDownDefault:!0,preventMouseUpDefault:!0,useMouseEvents:!0,useButtonTag:!0}),this.keyboard.setInput(String(this.$_current_sum))},beforeDestroy:function(){this.keyboard.destroy()},methods:k(k({},Object(u.mapActions)(s.b,[l.h])),{},{onChange:function(e){var t=e||"0";""===e&&this.keyboard.setInput(t),this.$store.dispatch("coupon/"+l.D,{sum:t})},onKeyPress:function(e){switch(e){case"{hide}":this.ACTION_FOCUS_INPUT({is_focus:!1});break;default:"0"!==this.keyboard.getInput()||Number.isNaN(e)||this.onChange(e)}}})},j=Object($.a)(x,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"simple-keyboard"})}),[],!1,null,null,null).exports,P=n(28),E={components:{BetsButtons:y,Keyboard:j},computed:{$_is_user:function(){return this.$store.getters[P.c+"globalIsUserAuth"]}},mounted:function(){this.$nextTick((function(){window.dispatchEvent(new CustomEvent("bet_sums_keyboard_rendered"))}))},methods:{isIos:function(){var e=navigator.userAgent;return/ipad|iphone|ipod/i.test(e)&&!window.MSStream}}},S=Object($.a)(E,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bets-sums-keyboard ",class:{"bets-sums-keyboard--theme-ios":this.isIos}},[t("bets-buttons",{attrs:{item_class:"bets-sums-keyboard__button"}}),this._v(" "),t("keyboard",{ref:"keyboard"})],1)}),[],!1,null,null,null).exports,T=n(18),B=n(1613),D=n(79),M=n(926),I={extends:n(1168).a},L=Object($.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"events__item"},[n("div",{staticClass:"events__cell no-wrap"},[n("div",{staticClass:"events__teams"},[e._v("\n            "+e._s(e.bet.opp1+" - "+e.bet.opp2)+"\n        ")]),e._v(" "),n("div",{staticClass:"events__event"},[e._v("\n            "+e._s(e.bet.nameGroup)+" "+e._s(e.bet.nameBet)+"\n            "),n("div",{staticClass:"coef"},[e.$_visible_coef?[e._v("\n                    "+e._s(e.$_visible_coef)+"\n                ")]:e.$_is_locked||e.$_is_relation?e._e():[n("preloader")]],2)]),e._v(" "),n("transition",{attrs:{name:"appear"}},[e.$_is_locked?n("div",{staticClass:"c-bet-box__overlay"},[e._v("\n                "+e._s(e.T("lock"))+"\n            ")]):e._e()]),e._v(" "),n("transition",{attrs:{name:"appear"}},[e.$_is_relation?n("div",{staticClass:"c-bet-box__overlay"},[e._v("\n                "+e._s(e.T("relation"))+"\n            ")]):e._e()])],1),e._v(" "),n("button",{staticClass:"btn btn_no-text",on:{click:function(t){return e.deleteBet()}}},[n("span",{staticClass:"btn__ico btn__ico_del"})])])}),[],!1,null,null,null).exports,N=n(1868),A=n(1090),R=n(1840),z=n(21),G={extends:R.a,computed:{$_button_text:function(){return this.$_is_auth?this.T("placeBet"):this.T("auth_auth_string")}},methods:{tryPlaceBet:function(){if(!this.$_is_auth)return this.$store.dispatch(z.w+"authActionEnableSideAuthMenu"),void this.$store.dispatch(s.a+l.h,{is_focus:!1});this.placeBet()}}},U={components:{SendBetButton:Object($.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-c__button"},[n("button",{staticClass:"m-c__button--add btn_g-green btn btn_upcase mini-coupon-button",on:{click:function(t){return e.tryPlaceBet()}}},[e._v("\n        "+e._s(e.$_button_text)+"\n    ")])])}),[],!1,null,null,null).exports},extends:N.default,mixins:[A.a]},H=Object($.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.$_is_show,expression:"$_is_show"}],staticClass:"m-c__footer"},[n("div",{staticClass:"m-c__bet-sum spinner"},[n("button",{staticClass:"spinner__btn btn_brand-inverted spinner__btn_down",attrs:{disabled:e.$_is_editor_tab},on:{click:function(t){return e.minus()}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.current_value,expression:"current_value"}],ref:"bet_input",staticClass:"js-spinner spinner__count",class:{"spinner__count--keyboard-opened":e.isInputFocused},attrs:{inputmode:"decimal",readonly:""},domProps:{value:e.current_value},on:{click:e.showKeyboard,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendBet()},change:function(t){return e.changeSum()},input:function(t){t.target.composing||(e.current_value=t.target.value)}}}),e._v(" "),n("button",{staticClass:"spinner__btn btn_brand-inverted spinner__btn_up",on:{click:function(t){return e.plus()}}})]),e._v(" "),n("send-bet-button")],1)}),[],!1,null,null,null).exports,F=n(1186);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=Object(u.createNamespacedHelpers)("coupon"),W=X.mapGetters,Y=X.mapActions,q={components:{Bet:L,BetSumInput:H,ResultCoef:function(){return n.e(832).then(n.bind(null,2605))}},mixins:[D.a,M.a,F.a],watch:{$_bets:{handler:function(e){var t=e.length;t>1&&this.$_type===T.g.COUPON_TYPES.SINGLE?this.setCouponType({type:T.g.COUPON_TYPES.EXPRESS}):t<=1&&this.setCouponType({type:T.g.COUPON_TYPES.SINGLE}),this.checkFakeBonusBet({coef:this.$_result_coef})},immediate:!0}},computed:V(V({},W({$_type:r.s})),{},{$_bets:function(){return this.$store.getters["coupon/"+r.c]},$_is_processed:function(){return this.$store.getters["coupon/"+r.W]}}),methods:V(V({},Y({setCouponType:l.B,checkFakeBonusBet:l.e})),{},{openCoupon:function(){this.$emit("openModal"),this.close()},close:function(){this.$emit("closeLine")},clearBets:function(){this.$store.dispatch("coupon/"+l.f)}})},J=Object($.a)(q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"min-coupon__item"},[n("div",{class:{"coupon__content--disabled":e.$_is_processed}},[n("transition",{attrs:{name:"coupon-zoom-in"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.$_is_processed,expression:"$_is_processed"}],staticClass:"coupon__preloader"},[n("img",{attrs:{width:"40",src:e.$consts.preloaderThemeWithPrefix}})])]),e._v(" "),n("div",{staticClass:"m-c__header"},[n("button",{staticClass:"m-c__link",on:{click:function(t){return e.openCoupon()}}},[e._v("\n                "+e._s(e.$T("go_to_coupon"))+"\n            ")]),e._v(" "),n("button",{staticClass:"m-c__clear",on:{click:function(t){return e.clearBets()}}},[e._v("\n                "+e._s(e.T("clear"))+"\n            ")]),e._v(" "),n("button",{staticClass:"m-c__close",on:{click:function(t){return e.close()}}})]),e._v(" "),n("div",{staticClass:"events events_coupon events_min-coupon"},e._l(e.$_bets,(function(e,t){return n("bet",{key:t,attrs:{bet:e}})})),1),e._v(" "),n("result-coef"),e._v(" "),e.$_bets.length?n("bet-sum-input"):e._e()],1)])}),[],!1,null,null,null).exports;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={computed:Q(Q({},Object(u.mapState)(P.c,["show_mobile_app_header"])),{},{$_bets_count:function(){return this.$store.getters["coupon/"+r.Z].length},stickyClass:function(){return{"coupon-widget--sticky":this.show_mobile_app_header}}}),methods:{openCoupon:function(){this.$emit("openModal")}}},te=Object($.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"coupon-widget coupon-widget_fixed",class:e.stickyClass,on:{click:function(t){return e.openCoupon()}}},[n("div",{staticClass:"coupon-widget__ico ion-android-list"},[n("span",{staticClass:"coupon-widget__num"},[e._v(" "+e._s(e.$_bets_count)+" ")])])])}),[],!1,null,null,null).exports,ne=n(1984),se=n.n(ne),oe={components:{Icon:te,LineCoupon:J,BetSumsKeyboard:S},extends:c.default,mixins:[B.a],data:function(){return{is_ignore_open:!0,is_show_one_click_loader:!1,localSobIds:[],keep_opened_line:!0,currentPath:null}},computed:{$_show_icon_coupon:function(){return(this.$_is_editor_tab||this.$_is_enabled_down_coupon&&!this.is_show_one_click_loader)&&this.enabledOnCurrentRoute&&!this.$_is_input_focused},$_show_line_coupon:function(){return!this.$_is_editor_tab&&this.$_is_enabled_line_coupon&&this.is_show_line&&!this.is_show_one_click_loader&&this.enabledOnCurrentRoute},$_section:function(){return this.$route.params.section},$_is_editor_tab:function(){return this.$store.getters["coupon/"+r.a]===T.g.tabs.BET_EDITOR},$_sob_ids:function(){return this.$store.getters["coupon/"+r.Z]},$_is_enabled_line_coupon:function(){return this.$store.getters[P.c+"globalGetFastCoupon"]},$_is_enabled_down_coupon:function(){return this.$store.getters[P.c+"globalGetDownCoupon"]},$_is_put_bet_request_active:function(){return this.$store.getters["coupon/"+r.W]},$_is_one_click_enabled:function(){return this.$store.getters["coupon/"+r.T]},enabledOnCurrentRoute:function(){var e=this.$route.path;return"home"===this.$route.name||T.g.availableRoutePaths.find((function(t){return e.includes(t)}))}},watch:{$_is_put_bet_request_active:function(e){this.is_show_one_click_loader=e&&this.$_is_one_click_enabled},$_sob_ids:function(e){var t=this,n=e&&!!e.length;if(!this.is_freeze_line_coupon&&this.$_is_enabled_line_coupon&&(this.is_show_line=this.currentPath!==this.$route.path?this.showLineAfterRedirect(n):this.updateOpenedLine(n)),!this.is_ignore_open){var s,o,r=(s=i()(t.$_sob_ids),(o=!se()(t.localSobIds.sort(),s.sort()))&&(t.localSobIds=i()(s)),o&&!!n);this.$_is_enabled_line_coupon||this.$_is_enabled_down_coupon||!r||this.openModal()}},$_is_enabled_line_coupon:{handler:function(e){if(e){var t=this.$_sob_ids.length>0;this.is_show_line=this.currentPath!==this.$route.path?this.showLineAfterRedirect(t):this.updateOpenedLine(t)}else this.is_show_line=!1},immediate:!0}},beforeMount:function(){var e=this;this.loadCoupon().finally((function(){e.is_ignore_open=!1})),this.currentPath=this.$route.path},methods:{closeLine:function(){this.is_show_line=!1,this.keep_opened_line=!1},showLineAfterRedirect:function(e){return this.currentPath=this.$route.path,e&&this.keep_opened_line},updateOpenedLine:function(e){return this.keep_opened_line=e,e}}},ie={components:{App:Object($.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"min-coupon"},[e.$_show_icon_coupon?n("icon",{directives:[{name:"show",rawName:"v-show",value:!e.is_show_line||e.$_is_editor_tab,expression:"!is_show_line || $_is_editor_tab"}],on:{openModal:function(t){return e.openModal()}}}):e._e(),e._v(" "),e.$_show_line_coupon?n("line-coupon",{on:{closeLine:function(t){return e.closeLine()},openModal:function(t){return e.openModal()}}}):e._e(),e._v(" "),e.is_show_one_click_loader?n("div",{staticClass:"coupon-widget coupon-widget_fixed"},[n("div",{staticClass:"coupon-widget__ico"}),e._v(" "),n("preloader",{attrs:{local_show:!0}})],1):e._e(),e._v(" "),n("transition",{attrs:{name:"appear-in-bottom"}},[e.$_is_input_focused?n("bet-sums-keyboard"):e._e()],1)],1)}),[],!1,null,null,null).exports},created:function(){this.$store.state.coupon||this.$store.registerModule("coupon",s.c)}},re=Object($.a)(ie,(function(){var e=this.$createElement;return(this._self._c||e)("App")}),[],!1,null,null,null);t.default=re.exports}}]);