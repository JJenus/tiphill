(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[877],{2611:function(t,e,i){"use strict";i.r(e);var s=i(0),n=i.n(s),r=i(44),a=i(71),l=i.n(a),c=i(34),o=i(286),_=i(32),v=i(2),d=i(3);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){n()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={mixins:[o.a],props:{is_visible_event_filters:{type:Boolean,required:!0},is_teams_filter_allowed:{type:Boolean,required:!0}},constants:{EVENTS_FILTERS:r.a},data:function(){return{groups:[{id:1,name:this.$T("1x2"),markets:[1,2,3],is_enabled:!0,name_rus:"1Х2"},{id:2,name:this.$T("doublechance"),markets:[4,5,6],is_enabled:!0,name_rus:"Двойной шанс"},{id:3,name:this.$T("total"),markets:[9,10],is_enabled:!0,name_rus:"Тотал"},{id:4,name:this.$T("handicap"),markets:[7,8],is_enabled:!0,name_rus:"Фора"},{id:5,name:this.$T("markets_rest"),markets:[58,59,2466,2467,2468,11,12,180,181,123,124,13,14],is_enabled:!0,name_rus:"Остальное"}],is_open:!1}},computed:p(p({},Object(c.mapGetters)("betting",["bettingExcludedMarkets","bettingActiveEventFilter"])),{},{isLive:function(){return this.store_type===_.a.live},broadcastFilterClass:function(){return{"events-filter__live--is-active":this.isActiveEventFilter(r.a.BROADCAST_ONLY)}},isBroadcastFilterVisible:function(){return this.isLive&&!v.a.config.isRefId([d.eb,d.h,d.db,d.W])}}),beforeMount:function(){this.toggleSaveMarketFilter()},beforeDestroy:function(){this.isActiveEventFilter(r.a.BROADCAST_ONLY)&&this.bettingSetActiveEventFilter(r.a.DISABLED),this.toggleSaveMarketFilter()},methods:p(p(p({},Object(c.mapActions)("betting",["bettingPrepareExcludedMarkets"])),Object(c.mapMutations)("betting",["bettingSetActiveEventFilter"])),{},{toggleOpen:function(){this.is_open=!this.is_open},excludeMarkets:function(t){var e=t.group,i=t.markets;e.is_enabled=!e.is_enabled,this.bettingPrepareExcludedMarkets({markets:i}),this.saveMarkets(),this.sendAnalyticsClickFilterItem(e.name_rus)},saveMarkets:function(){l.a.setItem("market_filters",this.groups)},selectEventFilter:function(t){this.bettingSetActiveEventFilter(t),this.isActiveEventFilter(this.$consts.EVENTS_FILTERS.TIME)&&this.sendAnalyticsClickFilterItem("По времени"),this.isActiveEventFilter(this.$consts.EVENTS_FILTERS.DISABLED)&&this.sendAnalyticsClickFilterItem("Отключить")},isActiveEventFilter:function(t){return this.bettingActiveEventFilter===t},toggleSaveMarketFilter:function(){var t=this;l.a.getItem("market_filters",(function(e,i){e?console.error(e):i&&t.groups.forEach((function(e){var s=i.find((function(t){return e.id===t.id}));s&&(t.$set(e,"is_enabled",s.is_enabled),s.is_enabled||t.bettingPrepareExcludedMarkets({markets:s.markets}))}))}))},sendAnalyticsClickFilterItem:function(t){"line"===this.$route.params.section&&this.$analytics.liveLine.clickOnFilterItemLine(t),"live"===this.$route.params.section&&this.$analytics.liveLine.clickOnFilterItemLive(t)},toggleOnlyBroadcast:function(){this.isActiveEventFilter(r.a.BROADCAST_ONLY)?this.bettingSetActiveEventFilter(r.a.DISABLED):this.bettingSetActiveEventFilter(r.a.BROADCAST_ONLY)}})},b=i(19),E=Object(b.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tabs__wrapper",on:{click:function(e){return t.toggleOpen()}}},[i("div",{staticClass:"tabs__link events-filter__button js-dropdown-toggle dropdown-toggle-eventsfilter",class:{active:t.is_open}},[i("span",{staticClass:"tabs__ico tabs__ico_filter"})]),t._v(" "),t.is_open?i("div",{staticClass:"events-filter-dropdown dropdown__content dropdown_eventsfilter opened",on:{click:function(t){t.stopPropagation()}}},[t.is_visible_event_filters?[i("div",{staticClass:"dropdown__item events-filter__switch"},[t._v("\n                "+t._s(t.$T("events_filter"))+"\n            ")]),t._v(" "),i("div",{staticClass:"events-filter__radio",class:{active:t.isActiveEventFilter(t.$consts.EVENTS_FILTERS.TIME)},on:{click:function(e){return e.stopPropagation(),t.selectEventFilter(t.$consts.EVENTS_FILTERS.TIME)}}},[t._v("\n                "+t._s(t.$T("by_time"))+"\n            ")]),t._v(" "),t.is_teams_filter_allowed?i("div",{staticClass:"events-filter__radio",class:{active:t.isActiveEventFilter(t.$consts.EVENTS_FILTERS.TEAMS)},on:{click:function(e){return e.stopPropagation(),t.selectEventFilter(t.$consts.EVENTS_FILTERS.TEAMS)}}},[t._v("\n                "+t._s(t.$T("by_teams"))+"\n            ")]):t._e(),t._v(" "),i("div",{staticClass:"events-filter__radio",class:{active:t.isActiveEventFilter(t.$consts.EVENTS_FILTERS.DISABLED)},on:{click:function(e){return e.stopPropagation(),t.selectEventFilter(t.$consts.EVENTS_FILTERS.DISABLED)}}},[t._v("\n                "+t._s(t.$T("disable"))+"\n            ")])]:t._e(),t._v(" "),i("div",{staticClass:"dropdown__item events-filter__switch"},[t._v("\n            "+t._s(t.$T("markets_filter"))+"\n        ")]),t._v(" "),t._l(t.groups,(function(e){return i("div",{staticClass:"events-filter__label",class:{active:e.is_enabled},on:{click:function(i){return i.stopPropagation(),t.excludeMarkets({group:e,markets:e.markets})}}},[t._v("\n            "+t._s(e.name)+"\n        ")])})),t._v(" "),t.isBroadcastFilterVisible?i("div",{staticClass:"dropdown__item events-filter__live",class:t.broadcastFilterClass,on:{click:function(e){return e.stopPropagation(),t.toggleOnlyBroadcast(e)}}},[i("svg",{staticClass:"events-filter__icon"},[i("use",{attrs:{"xlink:href":"/default/images/mobile/icon/unversal-icon.svg#live-broadcast"}})]),t._v(" "),i("span",{staticClass:"events-filter__title"},[t._v(t._s(t.$T("broadcast_filter")))])]):t._e()],2):t._e()])}),[],!1,null,null,null);e.default=E.exports}}]);